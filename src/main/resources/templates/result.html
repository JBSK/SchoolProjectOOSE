<!doctype html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
	<head th:replace="fragments/headTag-resultpage :: headTag"></head>
	<body>
        <div id="fb-root"></div>
        <script>
        	//Facebook share begin
	        window.fbAsyncInit = function() {
	            FB.init({
	                xfbml      : true,
	                version    : 'v2.5'
	            });
	        };
	
	        (function(d, s, id){
	            var js, fjs = d.getElementsByTagName(s)[0];
	            if (d.getElementById(id)) {return;}
	            js = d.createElement(s); js.id = id;
	            js.src = "https://connect.facebook.net/en_US/sdk.js";
	            fjs.parentNode.insertBefore(js, fjs);
	        }(document, 'script', 'facebook-jssdk'));
			//Facebook share end
        
            // Using jsPDF to save the page as PDF.
		    function PDFFromHTML() {	    	
		        var pdf = new jsPDF('p', 'pt', 'letter');
		        source = $('#resultaten')[0];
		        specialElementHandlers = {
		            '#bypassme': function (element, renderer) {
		                return true
		            }
		        };
		        
		        margins = {
		            top: 80,
		            bottom: 60,
		            left: 40,
		            width: 522
		        };
		        pdf.fromHTML(
		        source, // HTML string or DOM elem ref.
		        margins.left, // x coord
		        margins.top, { // y coord
		            'width': margins.width, // max width of content on PDF
		            'elementHandlers': specialElementHandlers
		        },
				
		        function (dispose) {
			        var svg = document.getElementById("radarChartBox").firstChild;
			        pdf.addSVG(svg);     
		            pdf.save('Test.pdf');
		            
		        }, margins);
		    }
        </script>

		<div th:include="fragments/menu" th:remove="tag"></div>
		<div id="main" class="pure-skin-PT">
            <div class="content">
                <div id="naviButtons" class="pure-g">
                    <div class="pure-u-1 pure-u-md-1-2">
                        <div class="socialmediabar">
                            <!-- Facebook -->
                            <div class="fb-share-button" data-href="http://halewyn.oose.icaprojecten.nl" data-layout="button"></div>

                            <!-- LinkedIn -->
                            <script src="//platform.linkedin.com/in.js" type="text/javascript"></script>
                            <script type="IN/Share" data-url="http://halewyn.oose.icaprojecten.nl"></script>

                            <!-- Twitter -->
                            <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://halewyn.oose.icaprojecten.nl" th:attr="data-text=${tweetText}" data-hashtags="persoonlijkheidstest,zelfkennis" data-dnt="true">Tweet</a>
                            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

                            <!-- Google+ -->
                            <script src="https://apis.google.com/js/platform.js" async="true" defer="true"></script>
                            <div class="g-plus" data-action="share"></div>
                        </div>
                    </div>
                    <div class="pure-u-1 pure-u-md-1-4">
                        <a href="javascript:PDFFromHTML()" class="downloadPDF pure-button">Download als PDF</a>
                    </div>
                    <div class="pure-u-1 pure-u-md-1-4">
                        <input type="submit" name="mailResult" value="Resultaten mailen" class="mailResult pure-button" />
                    </div>
                </div>
				<div id="resultaten">
	                <h2 class="content-subhead">Resultaten</h2>
	                <div class="pure-g resultrow1">
	                    <div id="radarChartContainer" class="pure-u-1 pure-u-lg-1-3">
	                        <div class="radarChart" id="radarChartBox"></div>
	                    </div>
	                    <div id="barChartCont" class="pure-u-1 pure-u-lg-1-3">
	                        <div class="barChart" id="barChartContainer"></div>
	                    </div>
	                    <div id="uitkomst" class="pure-u-1 pure-u-lg-1-3">
	                        <p class="primaryPType">
	                            Uw primaire persoonlijkheidstype is: <strong th:text="${primaryPersonalityType.name}"></strong>
	                        </p>
	                        <p class="secondaryPType">
	                            Uw secundaire persoonlijkheidstype is: <strong th:text="${secondaryPersonalityType.name}"></strong>
	                        </p>
	                        <p class="gegevenResult"></p>
	                    </div>
	                </div><!-- end resultRow1-->
				</div>
					<!-- end resultRow1-->
                <div class="pure-g resultrow2">
                    <div class="textResultRow  pure-u-1">
                        <h3 th:text="${primaryPersonalityType.name}"></h3>
                        <p th:text="${primaryPersonalityType.primaryDescription}"></p>
                    </div>
				</div>
				<div class="pure-g resultrow2">
                    <div class="textResultRow pure-u-1">
                        <h3 th:text="${secondaryPersonalityType.name}"></h3>
                        <p th:text="${secondaryPersonalityType.secondaryDescription}"></p>
                    </div>
                </div><!-- end resultRow2-->
                <div class="pure-g resultrow3">
                	<div class="pure-u-1">
                        <a href="linkpage" class="readMore pure-button">Lees meer..</a>
                    </div>
                </div><!-- end resultRow2-->
            </div><!-- end content -->
		    <div th:include="fragments/footer" th:remove="tag"></div>
		</div><!-- end pure skin / main -->
		<div th:include="fragments/GraphsJS" th:remove="tag"></div>
	</body>
</html>